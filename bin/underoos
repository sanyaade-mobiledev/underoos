#!/usr/bin/env node

(function() {
  var abort, arg, args, briefs, fs, help, notify, npm, path, rails, sinatra, static;
  fs = require('fs');
  path = require('path');
  args = process.argv.slice(2);
  npm = "" + __dirname + "/../package.json";
  help = "" + __dirname + "/../src/help.txt";
  briefs = true;
  notify = function(message) {
    return console.log(message);
  };
  abort = function(message) {
    console.error(message);
    return process.exit(1);
  };
  static = function() {
    return abort("Need to set up the statics generator. Use the guide? " + briefs);
  };
  rails = function() {
    return abort("Need to set up the rails generator. Use the guide? " + briefs);
  };
  sinatra = function() {
    return abort("Need to set up the sinatra generator. Use the guide? " + briefs);
  };
  while (args.length) {
    arg = args.shift();
    switch (arg) {
      case "-h":
      case "--help":
      case "help":
        abort(fs.readFileSync(help, 'utf8'));
        break;
      case "-v":
      case "--version":
      case "version":
        abort("abort(JSON.parse(fs.readFileSync(npm, 'utf8')).version)");
        break;
      case "-n":
      case "--no-guide":
      case "no-guide":
        briefs = false;
        break;
      case "static":
        static();
        break;
      case "rails":
        rails();
        break;
      case "sinatra":
        sinatra();
        break;
      default:
        notify("\nNot sure what to do here dude. So I'm just going to show you the help?");
        abort(fs.readFileSync(help, 'utf8'));
    }
  }
}).call(this);
